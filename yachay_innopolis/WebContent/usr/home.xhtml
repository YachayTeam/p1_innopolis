<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html">
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
	<h:outputStylesheet library="css" name="style.css" />
	<title>Calendario</title>
</h:head>
<body>
	<h:form>
		<p:menubar>
			<f:facet name="options">
	            <p:commandButton value="Salir"  action="#{sessionBean.logout}" icon=" ui-icon-closethick"  />
	        </f:facet>
		</p:menubar>
	</h:form>
	<hr />
	<div class="div1" style="width: 100%">
		<h:form>
			<p:growl id="messages" showDetail="true" />
			<h:panelGrid>
				<h3 style="margin-top: 0">Calendario</h3>
				<p:schedule id="schedule" value="#{eventosBean.eventModel}"
					widgetVar="myschedule" locale="es" timeZone="GMT-5" showHeader="true" rightHeaderTemplate="false" draggable="false">
					<p:ajax event="eventSelect"
						listener="#{eventosBean.onEventSelect}" update="dialog eventDetails"
						oncomplete="PF('eventDialog').show();" />
				</p:schedule>
			</h:panelGrid>

			<p:dialog id="dialog" widgetVar="eventDialog"
				header="#{eventosBean.event.title}" width="40%" showEffect="clip"
				hideEffect="clip">
				<h:panelGrid id="eventDetails" columns="1">
					<f:facet name="header">
						<p:graphicImage height="120" width="120"
							value="#{FacesContext
						.getCurrentInstance().getExternalContext()}/imgevent/#{eventosBean.event.title}.jpg" />
					</f:facet>
					
					<b><h:outputLabel for="from" value="DESCRIPCION:" ></h:outputLabel> </b>
					<p:outputLabel id="from" value="#{eventosBean.event.data.descripcion}"/>
					
					<b><h:outputLabel for="date" value="FECHA:" /></b>
					<p:outputLabel id="date" value="#{eventosBean.event.startDate}">
						<f:convertDateTime pattern="dd/MM/yyyy" timeZone="GMT-5" />
					</p:outputLabel>

					<b><h:outputLabel for="place" value="LUGAR:" /></b>
					<p:outputLabel id="place" value="#{eventosBean.event.data.lugar}"/>

					<b><h:outputLabel for="ca" value="CAPACIDAD:" /></b>
					<p:outputLabel id="ca" value="#{eventosBean.event.data.cantidad}"/>

					<p:commandButton id="addButton" value="Inscribete....!!!!!"
						action="#{eventosBean.irInscripcion}"
						oncomplete="PF('myschedule').update();PF('eventDialog').hide();" />
				</h:panelGrid>
			</p:dialog>
		</h:form>
	</div>
	<script type="text/javascript">
		PrimeFaces.locales['es'] = {
			closeText : 'Cerrar',
			prevText : 'Anterior',
			nextText : 'Siguiente',
			monthNames : [ 'Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo',
					'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre',
					'Noviembre', 'Diciembre' ],
			monthNamesShort : [ 'Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun',
					'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic' ],
			dayNames : [ 'Domingo', 'Lunes', 'Martes', 'Mi&eacute;rcoles', 'Jueves',
					'Viernes', 'SÃ¡bado' ],
			dayNamesShort : [ 'Dom', 'Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab' ],
			dayNamesMin : [ 'D', 'L', 'M', 'X', 'J', 'V', 'S' ],
			weekHeader : 'Semana',
			firstDay : 1,
			isRTL : false,
			showMonthAfterYear : false,
			yearSuffix : '',
			timeOnlyTitle : 'S&oacute;lo hora',
			timeText : 'Tiempo',
			hourText : 'Hora',
			minuteText : 'Minuto',
			secondText : 'Segundo',
			currentText : 'Fecha actual',
			ampm : false,
			month : 'Mes',
			week : 'Semana',
			day : 'D&iacute;a',
			allDayText : 'Todo el d&iacute;a'
		};
	</script>
</body>
</html>