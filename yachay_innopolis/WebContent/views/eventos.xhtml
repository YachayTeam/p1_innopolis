<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:p="http://primefaces.org/ui" 
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html">
<h:head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<h:outputStylesheet library="css" name="style.css" />
<title>Crear Eventos</title>
</h:head>
<body>
<h:form enctype="multipart/form-data">  
    <p:menubar>
        <p:menuitem value="Eventos" action="#{recursosBean.irRec}" icon="ui-icon-clipboard" />
        <p:menuitem value="Crear Eventos" action="#{recursosBean.irTrecurso}" icon="ui-icon-pencil" />
        <p:menuitem value="Tipo Evento" action="#{recursosBean.irTrecurso}" icon="ui-icon-pencil" />
        <f:facet name="options">
            <p:commandButton type="button" value="Salir" icon="ui-icon-home" />
        </f:facet>
    </p:menubar>
</h:form>
<hr/>
<div class="div1">
<h:form id="form1">
	<p:growl id="message" showDetail="true" />
	<p:panel id="panel1"  header="Registro de Eventos">
		<p:panelGrid styleClass="pg1" columns="2" >
			<h:outputText value="NOMBRE*:"/>
			<p:inputText styleClass="t" required="true" id="nom" value="#{eventosBean.nombre}" requiredMessage="Requerido">
				<p:ajax  listener="#{eventosBean.asignarNombreImg}" />
			</p:inputText>
			<h:outputText value="DESCRIPCION:"/>
			<p:inputTextarea styleClass="t" required="false" id="can" value="#{eventosBean.descripcion}" requiredMessage="Requerido"></p:inputTextarea>
			<h:outputText value="DIRECCION:"/>
			<p:inputText styleClass="t" required="false" id="des" value="#{eventosBean.lugar}" requiredMessage="Requerido"></p:inputText>
			<h:outputText value="COSTO:"/>
			<p:inputText styleClass="t" required="false" id="lug" value="#{eventosBean.costo}" requiredMessage="Requerido"></p:inputText>
			<h:outputText value="FECHA*:"/>
			<p:calendar required="true" requiredMessage="Campo Requerido" id="fecha" value="#{eventosBean.fecha}" pattern="yyyy-MM-dd" mask="true" />
			<h:outputText value="TIPO EVENTO:"/>
			<h:panelGroup>  
					<p:selectOneMenu styleClass="t" value="#{eventosBean.te}">
						<f:selectItem  itemLabel="Seleccione...!!!!" itemValue="-1" />
						<f:selectItems value="#{eventosBean.listaEveTipo}" />
						<p:ajax
							listener="#{eventosBean.asignarTipoeve()}">
						</p:ajax>
					</p:selectOneMenu>
			</h:panelGroup>
			<h:outputText value="CAPACIDAD:"/>
			<p:inputText styleClass="t" required="false" id="cap" value="#{eventosBean.cantidad}" requiredMessage="Requerido"></p:inputText>
			<h:outputText value="IMAGEN:"/>
			 <p:fileUpload mode="advanced" dragDropSupport="false" update=":form1:message :form1:imagen" sizeLimit="100000" 
    		allowTypes="/(\.|\/)(jpe?g)$/" cancelLabel="Cancelar" uploadLabel="Subir" label="Seleccionar" fileLimit="1" fileUploadListener="#{eventosBean.ImagenServ}"/>
   			 <h:outputText value="VISTA PREVIA:"/>
   			 <p:graphicImage id="imagen" value="/imgevent/#{eventosBean.imagen}" width="150" height="150" />
   			 <p:commandButton style="width:100%" update="panel1 message" value="Guardar Evento" action="#{eventosBean.crearEvento}">
   			 </p:commandButton>
   			 <p:commandButton style="width:100%" update="panel1 message" value="Crear Solicitud para el Evento" action="#{eventosBean.irSolicitud}">
   			 </p:commandButton>
		</p:panelGrid>
	</p:panel>
</h:form>
</div>
<div class="div2">
<h:graphicImage id="img1" value="/resources/img/logo.png"></h:graphicImage>
</div>
</body>
</html>