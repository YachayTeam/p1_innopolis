<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>Inscripci&oacute;n</title>
	<h:outputStylesheet library="css" name="style.css" />
	<link rel="shortcut icon" type="image/x-icon"
		href="resources/img/favicon.ico" />
</h:head>
<body>
	<h:form>
		<p:menubar>
			<f:facet name="options">
				<p:commandButton id="tracksalir" value="Volver" action="index.xhtml" actionListener="#{calusrBean.cancelarIns}"
					icon=" ui-icon-closethick">
					<p:tooltip id="toolTipTrac10" for="tracksalir"
						value="Bot&oacute;n para volver del sistema" trackMouse="true" />
				</p:commandButton>
			</f:facet>
		</p:menubar>
	</h:form>
	<hr />
	<h:form id="form">
		<p:growl id="message" showDetail="false" />
		<p:panel id="panel2" header="Datos de Inscripci&oacute;n">
			<div class="ui-grid ui-grid-responsive">
				<div class="ui-grid-row">
					<div class="ui-grid-col-2">
						<h:outputText value="Vista previa" />
						<p:graphicImage id="imagen"
							value="/imgevent/#{calusrBean.imagenPago}" width="300"
							height="300" />
					</div>
					<div class="ui-grid-col-1">
						<h:outputText value=":  " />
					</div>
					<div class="ui-grid-col-4">
						<p:panelGrid columns="2">
							<h:outputLabel value="Nombres* : " for="nombre" />
							<p:inputText required="true" value="#{calusrBean.nombre}"
								id="nombre" size="40" requiredMessage="Requerido Nombre"></p:inputText>
							<h:outputLabel value="Apellidos* : " for="apellido" />
							<p:inputText required="true" value="#{calusrBean.apellido}"
								id="apellido" size="40" requiredMessage="Requerido Apellido"></p:inputText>
							<h:outputLabel value="Correo* :" for="correo" />
							<p:inputText required="true" value="#{calusrBean.correo}"
								size="40" id="correo" requiredMessage="Requerido Correo"
								validatorMessage="Formato de correo inv&aacute;lido">
								<f:validateRegex
									pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
							</p:inputText>
							<h:outputLabel for="direcc" value="Dirección* : " />
							<p:inputText id="direcc" required="true"
								value="#{calusrBean.direccion}" size="40"
								requiredMessage="Requerido Dirección">
							</p:inputText>
							<h:outputLabel value="Teléfono* : " for="telef" />
							<p:inputText id="telef" required="true"
								value="#{calusrBean.telefono}" size="40"
								requiredMessage="Requerido Teléfono" maxlength="10"
								validatorMessage="Campo teléfono debe ingresar solo n&uacute;meros.">
								<f:validateRegex pattern="[0-9]+" />
							</p:inputText>
							<h:outputLabel value="Celular* : " for="celu" />
							<p:inputText id="celu" required="true"
								value="#{calusrBean.celular}" size="40"
								requiredMessage="Requerido Celular" maxlength="10"
								validatorMessage="Campo celular debe ingresar solo n&uacute;meros.">
								<f:validateRegex pattern="[0-9]+" />
							</p:inputText>
							<h:outputLabel value="Comprobante de Pago: " />
							<p:fileUpload id="tracksubir" required="true" mode="advanced"
								dragDropSupport="false" update=":form:message :form:imagen"
								sizeLimit="3145728" fileLimit="1" allowTypes="/(\.|\/)(jpe?g)$/"
								cancelLabel="Cancelar" uploadLabel="Subir" label="Seleccionar"
								fileUploadListener="#{calusrBean.ImagenServ}"
								requiredMessage="Requerido Imagen">
								<p:tooltip id="toolTipTrac1" for="tracksubir"
									value="Botón para Subir Imagen de Pago" trackMouse="true" />
							</p:fileUpload>

							<h:outputLabel value="Observaciones* : " for="obser" />
							<p:inputTextarea required="true" id="obser"
								value="#{calusrBean.observacion}" rows="5" cols="40"
								autoResize="false"
								requiredMessage="Requerido Observaci&oacute;n">
								<f:validateLength minimum="10" />
							</p:inputTextarea>
							<p:commandButton value="Inscribirme" onclick="PF('cd').show()"></p:commandButton>
							<p:confirmDialog header="Confirmar Inscripción"
								message="Esta seguro de que los datos son v&aacute;lidos"
								showEffect="fade" hideEffect="explode" widgetVar="cd"
								width="400">
								<p:commandButton id="trackins" icon="ui-icon-check"
									onclick="PF('dlgLoad').show();" action="index.xhtml"
									oncomplete="PF('dlgLoad').hide();PF('cd').hide();"
									widgetVar="startButton1" value="Si"
									actionListener="#{calusrBean.inscribirse}" update="panel2 message">
								</p:commandButton>
								<p:commandButton value="No" type="reset"
									styleClass="ui-confirmdialog-no" icon="ui-icon-close"
									onclick="PF('cd').hide()">
								</p:commandButton>
							</p:confirmDialog>
						</p:panelGrid>
					</div>
				</div>
			</div>
		</p:panel>
		<p:dialog widgetVar="dlgLoad" modal="true" draggable="false"
			closable="false" resizable="false" showHeader="false">
			<h:form>
				<p:graphicImage value="/resources/img/loader.gif" />
			</h:form>
		</p:dialog>
	</h:form>
	<h:form id="form3">
		<p:growl id="message3" showDetail="false" />

	</h:form>
</body>
</html>

